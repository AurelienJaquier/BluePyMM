language: python
python:
  - '2.7'
  - '3.6'
install: 
    - pip install pip --upgrade
    - pip install virtualenv --upgrade
    - pip install tox-travis
script: make test
cache:
    pip: true 
    directories:
      - $HOME/local
      - $HOME/src
git:
  depth: 2147483647
before_script:
      - SRC_DIR=$HOME/local/src
      - NRN_INSTALL_DIR=$HOME/local/nrn
      - ./.travis_install_neuron.sh ${SRC_DIR} ${NRN_INSTALL_DIR}
      - export PATH=$PATH:${NRN_INSTALL_DIR}/x86_64/bin
      - export PYTHONPATH=$PYTHONPATH:${NRN_INSTALL_DIR}/lib/python
